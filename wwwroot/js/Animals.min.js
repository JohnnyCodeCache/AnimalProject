function CheckQuerystring(){var t=new URLSearchParams(window.location.search);let n=t.get("name");n!==null&&n!==""&&LeftNavClicked(n)}function attachLeftNav(){$(".LeftNavButton").off("click");$(".LeftNavButton").click(function(){let n=$(this).data("animal");LeftNavClicked(n)})}function LeftNavClicked(n){LeftNav_Update_Data(n,"selected",!0);let t=leftNavData.find(t=>t.animal===n);TopNavChange(t);setGetParam("name",n);setGetParam("id","");AnimalContent_PopulateWithList(n)}function TopNavChange(n){let t=n.domesticWild;t==="wild"?($("#SearchBarTop").addClass("--wild"),$("#SearchBarTop").removeClass("--domestic"),$("#SearchBar__Nav__DomesticWild").html("Wild")):($("#SearchBarTop").removeClass("--wild"),$("#SearchBarTop").addClass("--domestic"),$("#SearchBar__Nav__DomesticWild").html("Domestic"));$("#SearchBar__Nav__Separator").removeClass("hidden");$("#SearchBar__Nav__Animal").html(n.animal)}function AnimalContent_PopulateWithList(n){const t="/api/animals/getbyspecies/"+n;fetch(t).then(n=>n.json()).then(n=>{currentAnimalList=n;var r=new URLSearchParams(window.location.search);let t=r.get("id");if(t!==null&&t!==""){AnimalContent__PopulateWithDetails(t);return}let i="<div id='AnimalNamesButtonBlock'>";n.forEach(n=>{i+=`<button id='${n.id}' class='AnimalNameButton --animalButton__${n.species}' data-location='${n.location}'>${n.name}<br><img src='/images/Icon_${n.species}.png' class="Icon__Small"><br>${n.location}</button>`});i+="<\/div>";let u=getHTML__ContentTop(n[0].species,"select a button below","");$("#AnimalContent__Top").html(u);$("#AnimalContent__Bottom").html(i);AttachAnimalNameButtons()}).catch(n=>console.error("Unable to get items.",n))}function AttachAnimalNameButtons(){$(".AnimalNameButton").mouseenter(function(){let n=$(this).data("location");n=n.replace(/[^a-zA-Z]/gi,"");n!=="Extinct"&&($("#HighlightMap").removeClass("hidden"),$("#HighlightMap").attr("src","/images/maps/"+n+".png"))});$(".AnimalNameButton").mouseleave(function(){$("#HighlightMap").addClass("hidden")});$(".AnimalNameButton").click(function(){AnimalContent__PopulateWithDetails($(this).attr("id"))})}function AnimalContent__PopulateWithDetails(n){let t=currentAnimalList.find(t=>t.id===n),i=t.location.replace(/[^a-zA-Z]/gi,""),r=getHTML__ContentTop(t.name,t.location,i);$("#AnimalContent__Top").html(r);let u=getHTML__ContentBottom(t.details,t.imageUrl);$("#AnimalContent__Bottom").html(u);setGetParam("id",n)}function LeftNav_Update_Data(n){for(let t=0;t<leftNavData.length;t++)leftNavData[t].animal===n?(leftNavData[t].selected=!0,$("#LeftNav__"+leftNavData[t].animal).addClass("--active")):(leftNavData[t].selected=!1,$("#LeftNav__"+leftNavData[t].animal).removeClass("--active"))}function LeftNav_Populate(n){let t=BuildLeftNav(n);$("#LeftNav").html(t);attachLeftNav()}function GoBack(){var n=new URLSearchParams(window.location.search);setGetParam("id","");LeftNavClicked(n.get("name"))}function Search(){let n=$("#Search").val();const t="/api/animals/search/"+n;fetch(t).then(n=>n.json()).then(n=>{currentAnimalList=n,setGetParam("id",""),setGetParam("name",""),setGetParam("search","thisSearch"),DrawAnimalList(n)}).catch(n=>console.error("Unable to get items.",n))}function DrawAnimalList(n){let t="<div id='AnimalNamesButtonBlock'>";n.forEach(n=>{t+=`<button id='${n.id}' class='AnimalNameButton --animalButton__${n.species}' data-location='${n.location}'>${n.name}<br><img src='/images/Icon_${n.species}.png' class="Icon__Small"><br>${n.location}</button>`});t+="<\/div>";let i=getHTML__ContentTop(n[0].species,"select a button below","");$("#AnimalContent__Top").html(i);$("#AnimalContent__Bottom").html(t);AttachAnimalNameButtons()}function GetAllNormalizedLocations(){fetch("/AnimalData/GetAllDistinctLocationData/").then(n=>n.json()).then(n=>{let t=[];for(let i=0;i<n.length;i++){let r=n[i].replace(/[^a-zA-Z]/gi,"");t.push(r)}DataDump(t)}).catch(n=>console.error("Unable to get items.",n))}function DataDump(n){$("#DataDump").html("<pre>"+JSON.stringify(n,null,2)+"<\/pre>")}function setGetParam(n,t){var i,r;history.pushState&&(i=new URLSearchParams(window.location.search),i.set(n,t),r=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+i.toString(),window.history.pushState({path:r},"",r))}let currentAnimalList=[],leftNavData=[{animal:"Bears",selected:!1,domesticWild:"wild"},{animal:"Cats",selected:!1,domesticWild:"domestic"},{animal:"Dogs",selected:!1,domesticWild:"domestic"},{animal:"Elephants",selected:!1,domesticWild:"wild"},{animal:"Monkeys",selected:!1,domesticWild:"wild"}];$(document).ready(function(){LeftNav_Populate(leftNavData);CheckQuerystring()});